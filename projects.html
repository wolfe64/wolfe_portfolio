<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Projects</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="wolfe_style.css">
  <style>
    .viz-container {
      opacity: 0;
      transition: opacity 1s ease-in;
    }
    .viz-loaded {
      opacity: 1;
    }
  </style>
</head>
<body>

  <div id="include-header"></div>

  <main class="container py-5">

    <!-- Project 1 -->
    <section class="mb-5">
      <h2 class="mb-4">Illegal Wildlife Trade Dashboard</h2>
      
      <div class="position-relative text-center mb-3" style="min-height:700px;">
        <div id="spinner1" class="d-flex justify-content-center align-items-center position-absolute top-0 start-0 w-100 h-100 bg-white">
          <div class="spinner-border text-warning" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
        <div id="viz1684082515388" class="viz-container mx-auto" style="min-width:300px; max-width:1000px; width:100%; height:700px;"></div>
      </div>

      <h5>Description</h5>
      <p>This dashboard illustrates illegal wildlife trafficking using four Tableau visualizations...</p>

      <h5 class="mt-4">Analysis and Reflection</h5>
      <p>The dashboard is effective and interactive. A key takeaway is how countries vary in taxa demand...</p>
    </section>

    <!-- Project 2 -->
    <section class="mb-5">
      <h2 class="mb-4">National Parks Recreational Visits: 2023</h2>

      <div class="position-relative text-center mb-3" style="min-height:700px;">
        <div id="spinner2" class="d-flex justify-content-center align-items-center position-absolute top-0 start-0 w-100 h-100 bg-white">
          <div class="spinner-border text-warning" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
        <div id="viz1719808110255" class="viz-container mx-auto" style="min-width:300px; max-width:1000px; width:100%; height:700px;"></div>
      </div>

      <h5>Description</h5>
      <p>This dashboard explores and ranks National Parks based on their 2023 recreational visit numbers...</p>

      <h5 class="mt-4">Analysis and Reflection</h5>
      <p>The project was rewarding, and notable data preparation challenges were overcome...</p>
    </section>

    <!-- Project 3 -->
    <section class="mb-5">
      <h2 class="mb-4">
        <a href="https://sclis.libguides.com/c.php?g=1312531&p=9648235" class="text-decoration-none text-dark">
          Data Visualization LibGuide
        </a>
      </h2>
      <h5>Description</h5>
      <p>This LibGuide introduces beginners to data visualization concepts...</p>

      <h5 class="mt-4">Analysis and Reflection</h5>
      <p>The guide simplifies complex topics without overwhelming beginners...</p>
    </section>

  </main>

  <div id="include-footer"></div>

  <!-- Tableau JS -->
  <script src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script>

  <script>
    let viz1, viz2;
    let hasLoaded1 = false;
    let hasLoaded2 = false;
  
    function initViz() {
      const container1 = document.getElementById("viz1684082515388");
      const container2 = document.getElementById("viz1719808110255");
  
      const url1 = "https://public.tableau.com/views/IllegalWildlifeTrade/IllegalWildlifeTrade";
      const url2 = "https://public.tableau.com/views/5TW9PHYTS";
  
      const options1 = {
        hideTabs: true,
        hideToolbar: false,
        width: "100%",
        height: "700px",
        onFirstInteractive: function () {
          if (!hasLoaded1) {
            document.getElementById('spinner1').style.display = "none";
            container1.classList.add('viz-loaded');
            hasLoaded1 = true;
          }
        }
      };
  
      const options2 = {
        hideTabs: true,
        hideToolbar: false,
        width: "100%",
        height: "700px",
        onFirstInteractive: function () {
          if (!hasLoaded2) {
            document.getElementById('spinner2').style.display = "none";
            container2.classList.add('viz-loaded');
            hasLoaded2 = true;
          }
        }
      };
  
      viz1 = new tableau.Viz(container1, url1, options1);
      viz2 = new tableau.Viz(container2, url2, options2);
    }
  
    function resizeViz() {
      // Don't re-call setFrameSize if container is too small (e.g. mobile)
      const width = Math.min(window.innerWidth * 0.95, 1000);
      if (viz1) viz1.setFrameSize(width, 700);
      if (viz2) viz2.setFrameSize(width, 700);
    }
  
    document.addEventListener("DOMContentLoaded", function () {
      initViz();
      window.addEventListener("resize", resizeViz);
    });
  
    async function loadHTML(id, file) {
      const res = await fetch(file);
      const html = await res.text();
      document.getElementById(id).innerHTML = html;
    }
  
    loadHTML("include-header", "header.html");
    loadHTML("include-footer", "footer.html");
  </script>

</body>
</html>
